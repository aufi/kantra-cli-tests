- description: This ruleset detects logging configurations that may be problematic
    when migrating an application to a cloud environment.
  name: cloud-readiness
  violations:
    session-00000:
      category: mandatory
      description: HTTP session replication (distributable web.xml)
      effort: 3
      incidents:
      - codeSnip: "  1  <!--suppress ServletWithoutMappingInspection -->\n  2  <web-app\
          \ xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\
          \n  3           xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\
          \n  4           version=\"3.0\">\n  5      <distributable />\n  6  </web-app>\n"
        lineNumber: 5
        message: "Session replication ensures that client sessions are not disrupted\
          \ by node failure. Each node in the cluster shares information about ongoing\
          \ sessions and can take over sessions if another node disappears. In a cloud\
          \ environment, however, data in the memory of a running container can be\
          \ wiped out by a restart.\n\n Recommendations\n\n * Review the session replication\
          \ usage and ensure that it is configured properly.\n * Disable HTTP session\
          \ clustering and accept its implications.\n * Re-architect the application\
          \ so that sessions are stored in a cache backing service or a remote data\
          \ grid.\n\n A remote data grid has the following benefits:\n\n * The application\
          \ is more scaleable and elastic.\n * The application can survive EAP node\
          \ failures because a JVM failure does not cause session data loss.\n * Session\
          \ data can be shared by multiple applications."
        uri: AdministracionEfectivo.ear/tmp/coolstore-main-cloud-jakarta-ee/src/main/webapp/WEB-INF/web.xml
        variables:
          data: distributable
          innerText: ''
          matchingXML: ''
      labels:
      - clustering
      - konveyor.io/source=java
      - konveyor.io/source=java-ee
      - konveyor.io/target=cloud-readiness
      links:
      - title: 'Getting Started with JBoss EAP for OpenShift Container Platform: Clustering'
        url: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/getting_started_with_jboss_eap_for_openshift_container_platform/index#reference_clustering
      - title: 'JBoss EAP:  Externalize HTTP Sessions to Red Hat Data Grid'
        url: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/configuration_guide/index#jdg_externalize_http_sessions
      - title: 'JBoss EAP: Clustering in Web Applications'
        url: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html/development_guide/clustering_in_web_applications
      - title: Running Data Grid on OpenShift
        url: https://access.redhat.com/documentation/en-us/red_hat_data_grid/8.0/html-single/running_data_grid_on_openshift/index
      - title: 'Twelve-Factor App: Backing services'
        url: https://12factor.net/backing-services
      - title: 'Twelve-Factor App: Processes'
        url: https://12factor.net/processes
- name: discovery-rules
  tags:
  - EJB XML
  - JPA XML
  - Java Source
  - License=Apache License 2.0
  - License=GNU GPL
  - License=GNU LGPL
  - Manifest
  - Maven XML
  - Properties
  - Spring XML
  - Web XML
  violations:
    hardcoded-ip-address:
      category: mandatory
      description: Hardcoded IP Address
      effort: 1
      incidents:
      - codeSnip: "  1   jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\n  2\
          \   jdbc.url=jdbc:oracle:thin:@10.19.2.93:1521:xe\n  3   jdbc.user=customers\n\
          \  4   jdbc.password=customers\n  5   hibernate.hbm2ddl.auto=create-drop\n\
          \  6   hibernate.dialect=org.hibernate.dialect.OracleDialect\n  7  \n  8\
          \  # PostgreSQL\n  9  #jdbc.driverClassName=org.postgresql.Driver \n 10\
          \  #jdbc.url=jdbc:postgresql://customers-postgresql:5432/customers\n 11\
          \  #jdbc.user=customers\n 12  #jdbc.password=customers\n 13  #hibernate.hbm2ddl.auto=create-drop\n\
          \ 14  #hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\n"
        lineNumber: 2
        message: When migrating environments, hard-coded IP addresses may need to
          be modified or eliminated.
        uri: AdministracionEfectivo.ear/tackle-testapp/src/main/resources/persistence.properties
        variables:
          matchingText: 10.19.2.93
      - codeSnip: "  1   jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\n  2\
          \   jdbc.url=jdbc:oracle:thin:@10.19.2.93:1521:xe\n  3   jdbc.user=customers\n\
          \  4   jdbc.password=customers\n  5   hibernate.hbm2ddl.auto=create-drop\n\
          \  6   hibernate.dialect=org.hibernate.dialect.OracleDialect\n  7  \n  8\
          \  # PostgreSQL\n  9  #jdbc.driverClassName=org.postgresql.Driver \n 10\
          \  #jdbc.url=jdbc:postgresql://customers-postgresql:5432/customers\n 11\
          \  #jdbc.user=customers\n 12  #jdbc.password=customers\n 13  #hibernate.hbm2ddl.auto=create-drop\n\
          \ 14  #hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\n"
        lineNumber: 2
        message: When migrating environments, hard-coded IP addresses may need to
          be modified or eliminated.
        uri: AdministracionEfectivo.ear/tackle-testapp/target/classes/persistence.properties
        variables:
          matchingText: 10.19.2.93
      - codeSnip: "  1   jdbc.driverClassName=oracle.jdbc.driver.OracleDriver\n  2\
          \   jdbc.url=jdbc:oracle:thin:@10.19.2.93:1521:xe\n  3   jdbc.user=customers\n\
          \  4   jdbc.password=customers\n  5   hibernate.hbm2ddl.auto=create-drop\n\
          \  6   hibernate.dialect=org.hibernate.dialect.OracleDialect\n  7  \n  8\
          \  # PostgreSQL\n  9  #jdbc.driverClassName=org.postgresql.Driver \n 10\
          \  #jdbc.url=jdbc:postgresql://customers-postgresql:5432/customers\n 11\
          \  #jdbc.user=customers\n 12  #jdbc.password=customers\n 13  #hibernate.hbm2ddl.auto=create-drop\n\
          \ 14  #hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\n"
        lineNumber: 2
        message: When migrating environments, hard-coded IP addresses may need to
          be modified or eliminated.
        uri: AdministracionEfectivo.ear/tmp/tackle-testap-public-cloud-readiness/src/main/resources/persistence.properties
        variables:
          matchingText: 10.19.2.93
      labels:
      - discovery
      - konveyor.io/target=cloud-readiness
      - konveyor.io/target=discovery
- description: This ruleset provides analysis of logging libraries.
  name: technology-usage
  tags:
  - AOP Alliance
  - Apache Commons Logging
  - Apache Log4J
  - Bean=EJB XML
  - Bouncy Castle
  - Clustering Web Session
  - Clustering=Web Session
  - Connect=EAR Deployment
  - Connect=EJB XML
  - Connect=Kafka Client
  - Connect=Servlet
  - Database Driver=Oracle DB Driver
  - EAR
  - Embedded Oracle DB Driver
  - Embedded framework - AOP Alliance
  - Embedded framework - GIN
  - Embedded framework - Hibernate
  - Embedded framework - Quartz
  - Embedded framework - Spring
  - Embedded framework - Spring DI
  - Embedded library - Apache Commons Logging
  - Embedded library - Apache Log4J
  - Embedded library - Bouncy Castle
  - Embedded library - JBoss logging
  - Embedded library - JFreeChart
  - Embedded library - JSF
  - Embedded library - Jasypt
  - Embedded library - Kafka Client
  - Embedded library - Logging Utils
  - Embedded library - PrimeFaces
  - Embedded library - SLF4J
  - Embedded technology - Java Server Faces
  - Embedded=AOP Alliance
  - Embedded=GIN
  - Embedded=Hibernate
  - Embedded=Kafka Client
  - Embedded=Oracle DB Driver
  - Embedded=Properties
  - Embedded=Quartz
  - Embedded=Spring DI
  - Execute=AOP Alliance
  - Execute=GIN
  - Execute=Java EE XML
  - Execute=Quartz
  - Execute=Spring DI
  - GIN
  - HTTP=Servlet
  - Hibernate
  - Inversion of Control=AOP Alliance
  - Inversion of Control=GIN
  - Inversion of Control=Spring DI
  - JBoss logging
  - JFreeChart
  - JSF
  - JSF XML
  - Jasypt
  - Java EE Application Deployment
  - Java EE XML
  - Java EE=EAR Deployment
  - Java EE=EJB XML
  - Java EE=JPA XML
  - Java EE=JPA entities
  - Java EE=JSF XML
  - Java EE=Java EE XML
  - Java EE=Persistence units
  - Java EE=Servlet
  - Java EE=Web Session
  - Java Servlet
  - Kafka Client
  - Logging Utils
  - Object Mapping=Hibernate
  - Oracle DB Driver
  - Other=EAR Deployment
  - Other=Properties
  - Persistence=JPA XML
  - Persistence=JPA entities
  - Persistence=Persistence units
  - PrimeFaces
  - Processing=Java EE XML
  - Processing=Quartz
  - Quartz
  - SLF4J
  - Servlet
  - Spring
  - Spring DI
  - Store=Hibernate
  - Store=JPA XML
  - Store=JPA entities
  - Store=Oracle DB Driver
  - Store=Persistence units
  - Streaming=Kafka Client
  - Sustain=Properties
  - Sustain=Web Session
  - View=JSF XML
  - Web=JSF XML
